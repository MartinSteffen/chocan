Gruppe: Gunnar Schaefer & Stefan Schaefer - zustaendig für 
        Rechnungen


Es wird eine graphische Oberflaeche fuer die Aerzte zur Eingabe
von Rechnungen erstellt. Diese Oberflaeche hat 10 Felder, die 
vom jeweiligen Arzt ausgefuellt werden. Die ersten vier Felder 
muessen auf jeden Fall ausgefuellt werden: Arzt-Nummer 
(Integer), Patienten-Nummer (Integer), Behandlungs-Datum 
(Datum), Code-Nummer der ersten erbrachten Leistung (Integer). 
Weitere erbrachte Leistungen (ebenfalls Integers) koennen in 
die restlichen sechs Felder eingetragen werden. Alle 
auszufuellenden Felder sind entsprechend gekennzeichnet und 
beschriftet, so dass keine Unklarheiten bestehen.

Im Folgenden wird der genaue Ablauf der Eingabe beschrieben. 
Alle erwaehnten Tabellen befinden sich in der 
Datenbank "choc".Es werden die folgenden sieben Module 
benoetigt.

Im ersten Feld ermoeglicht das Arzt-Modul die Eingabe der
Arzt-Nummer (Integer). Die zugehoerige Funktion wird mit der 
Arzt-Nummer (Integer) als Parameter aufgerufen. Sie 
ueberprueft, ob die eingegebene Nummer in der Tabelle "aerzte"
enthalten ist. Ist die Nummer in der Tabelle "aerzte"
enthalten, wird der Arztname (string) und seine Adresse
(string) zurueckgegeben und der Cursor wandert zum nächsten
Feld. Ist die Nummer in der Tabelle "aerzte" nicht vorhanden,
wird eine Fehlermeldung (string) zurueckgegeben. Der Cursor
wandert nicht weiter und man kann die Eingabe korrigieren.

Im naechsten Feld ermoeglicht das Patienten-Modul die Eingabe
der Patienten-Nummer (Integer); die zugehoerige Funktion wird
mit der Patienten-Nummer (Integer) als Parameter aufgerufen. 
Sie ueberprueft, ob die Nummer mit einer in der Tabelle
"patienten" vorhandenen Nummer uebereinstimmt; wenn dem so ist,
wird der Patientenname (string) und die Adresse (string)
zurueckgegeben und der Cursor wandert zum naechsten Feld. Ist
die Nummer in der Tabelle "patienten" nicht vorhanden, wird
eine Fehlermeldung (string) zurueckgegeben, der Cursor wandert
nicht weiter und man kann die Eingabe korrigieren.

Im dritten Feld ermoeglicht das Behandlungs-Modul die Eingabe
des Behandlungs-Datums (Datum). Die zugehoerige Funktion wird
mit dem Behandlungs-Datum (Datum) als Parameter aufgerufen.
Zuerst wird geprueft, ob das Behandlungs-Datum aelter oder
gleich dem aktuellen Datum ist. Ist das der Fall wird
ueberprueft, ob das Datum im "anfang"-Feld aelter ist als das
Behandlungs-Datum. Ist dies auch der Fall, wird ueberprueft,
ob das "End"-Feld leer ist, d.h. dass der Kunde noch Mitglied
in der Versicherung ist. Ist ein Eintrag vorhanden, muessen die
beiden Daten verglichen werden. Ist das Behandlungs-Datum
aelter als das "end"-Datum, war der Kunde noch versichert und
der Cursor wandert ins naechste Feld; sonst wird eine
Fehlermeldung (string) zurueckgegeben, der Cursor wandert nicht
und man kann die Eingabe korrigieren.

Im vierten Feld ermoeglicht das Code-Modul die Eingabe der
Code-Nummer (Integer). Dann wird die zugehoerige Funktion mit
der Code-Nummer (Integer) als Parameter aufgerufen. Es wird
ueberprueft, ob die Code-Nummer in der Tabelle "behandlungen"
enthalten ist; ist sie vorhanden, werden sowohl Preis (float)
als auch Erklaerung der Leistung (string) zurueckgegeben und
der Cursor wandert zum naechsten Feld. Ist die Nummer in der
Tabelle "behandlungen" nicht vorhanden, wird eine Fehlermeldung
(string) zurueckgegeben, der Cursor wandert nicht weiter und
man kann die Eingabe korrigieren.

In den uebrigen Feldern findet ein Ablauf statt, der mit dem im
vierten Feld identisch ist.

Zusaetzlich ermoeglicht das Summen-Modul die Ausgabe des
Gesamt-Rechnungsbetrags (float). Die zugehoerige Funktion mit
den Behandlungs-Preisen (float) als Parameter addiert die
einzelnen Preise der Felder "vier" bis "zehn" und gibt die
Summe (float) zurueck. Felder ohne Eingabe erhalten hierbei den
Wert "Null". 

Außerdem ermoeglicht das Aenderungs-Modul jederzeit die Eingabe
zu aendern. Dies kann durch Eingabe der "TAB"- oder der
"ESC"-Taste geschehen. Beim ersten Fall springt der Cursor in
das vorherige Feld zur Korrektur der Eingabe zurueck. Im
zweiten Fall werden saemtliche Eingaben geloescht und der
Cursor springt in das erste Feld zurueck.

Sobald in den ersten vier Feldern korrekte Eingaben gemacht
wurden, ermoeglicht das Abschick-Modul die Daten zu
transferieren. Die zugehoerige Funktion ueberprueft die zuletzt
eingegebene Code-Nummer (Integer) auf Gueltigkeit. Ist sie
gueltig, wird das Formular abgeschickt, wenn nicht, gibt es
eine Fehlermeldung (string) zurueck. 

Zum Schluss ermoeglicht das Speicher-Modul, die abgeschickte
Rechnung zu speichern. Die zugehoerige Funktion ueberprueft, ob
der entsprechend gekennzeichnete Button angeklickt wurde; ist
dies ohne Fehlermeldung vonstatten gegangen, wird das Formular
in einer der quartalsweisen erstellten Rechnungs-tabellen
"rechnungen_Quartal_Jahr" gespeichert.

Es stehen folgende Code-Nummern fuer vom Arzt erbrachte
Leistungen zur Verfuegung:

0815 - Haende schuetteln - DM 21.83
4711 - Fett absaugen - DM 481.65
1583 - Magen auspumpen - DM 123.45
9834 - neues Gebiss - DM 934.99
2223 - Pickel ausdruecken - DM 89.63
3858 - Hormonbehandlung - DM 257.30
9999 - Gehirn OP - DM 3777.04








